"use strict";(self.webpackChunkfarmersure=self.webpackChunkfarmersure||[]).push([[821],{1691:function(n,e,r){r.d(e,{GX:function(){return d},VL:function(){return m},iz:function(){return f},l_:function(){return p},tN:function(){return l}});var t,a,u,o,i,s=r(168),c=r(6444),l=c.ZP.form(t||(t=(0,s.Z)(["\n  display: grid;\n  gap: 10px;\n  margin-top: 50px;\n  @media (min-width: 768px) {\n    width: 300px;\n    margin-left: auto;\n    margin-right: auto;\n  }\n"]))),p=c.ZP.input(a||(a=(0,s.Z)(["\n  padding-left: 15px;\n"]))),d=c.ZP.button(u||(u=(0,s.Z)(["\n  display: flex;\n  justify-content: center;\n  padding: 10px;\n  border: 1px solid gray;\n  border-radius: 5px;\n  cursor: pointer;\n  text-decoration: none;\n  color: white;\n  background-color: #29d1c3;\n  &:hover {\n    background-color: #0000ff;\n  }\n"]))),f=c.ZP.div(o||(o=(0,s.Z)(['\n  margin: 20px 0;\n  text-align: center;\n  position: relative;\n\n  &:before,\n  &:after {\n    content: "";\n    width: 45%;\n    height: 1px;\n    background: #ccc;\n    position: absolute;\n    top: 50%;\n  }\n  &:before {\n    left: 0;\n  }\n  &:after {\n    right: 0;\n  }\n']))),m=c.ZP.button(i||(i=(0,s.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 8px;\n  padding: 10px;\n  border: 1px solid gray;\n  border-radius: 5px;\n  cursor: pointer;\n  text-decoration: none;\n  color: white;\n  background-color: #29d1c3;\n  &:hover {\n    background-color: #0000ff;\n  }\n  img {\n    width: 20px;\n    height: 20px;\n  }\n"])))},2821:function(n,e,r){r.r(e),r.d(e,{default:function(){return p}});var t=r(9439),a=r(2791),u=r(7689),o=r(3418),i=r(7554),s=r(1691),c=r(3329),l=function(){var n=(0,a.useState)(""),e=(0,t.Z)(n,2),r=e[0],l=e[1],p=(0,a.useState)(""),d=(0,t.Z)(p,2),f=d[0],m=d[1],h=(0,a.useState)(""),g=(0,t.Z)(h,2),x=g[0],v=g[1],w=(0,u.s0)(),Z=(0,o.D)(i.z2,{onSuccess:function(){w("/home")},onError:function(n){alert(n.message)}}).mutate;return(0,c.jsxs)(s.tN,{onSubmit:function(n){n.preventDefault();try{Z({email:r,password:f,name:x}),w("/register"),l(""),m("")}catch(e){alert("Invalid user!")}},children:[(0,c.jsx)(s.l_,{placeholder:"name",name:"name",value:x,type:"text",onChange:function(n){return v(n.target.value)}}),(0,c.jsx)(s.l_,{placeholder:"e-mail",name:"email",value:r,type:"email",onChange:function(n){return l(n.target.value)},required:!0}),(0,c.jsx)(s.l_,{placeholder:"password",name:"password",value:f,type:"password",onChange:function(n){return m(n.target.value)},required:!0}),(0,c.jsx)(s.GX,{type:"submit",children:"Register"})]})},p=function(){return(0,c.jsxs)("div",{children:[(0,c.jsx)("title",{children:"Registration"}),(0,c.jsx)(l,{})]})}},7554:function(n,e,r){r.d(e,{K4:function(){return c},ni:function(){return p},w:function(){return l},z2:function(){return s}});var t=r(4165),a=r(5861),u=r(7593),o=r(2734),i=(0,u.v0)(),s=function(){var n=(0,a.Z)((0,t.Z)().mark((function n(e){var r,a,s,c,l;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=e.email,a=e.password,s=e.name,n.next=4,(0,u.Xb)(i,r,a);case 4:return c=n.sent,l=c.user,n.next=8,(0,o.JN)(l.uid,{name:s||"\u0406\u043c'\u044f \u041a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430",email:l.email,phone:""});case 8:return localStorage.setItem("user",JSON.stringify({uid:l.uid,email:l.email})),n.abrupt("return",!0);case 12:throw n.prev=12,n.t0=n.catch(0),console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0440\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u0457:",n.t0.message),new Error(n.t0.message);case 16:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}(),c=function(){var n=(0,a.Z)((0,t.Z)().mark((function n(e){var r,a,s,c,l;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=e.email,a=e.password,n.next=4,(0,u.e5)(i,r,a);case 4:return s=n.sent,c=s.user,l={uid:c.uid,email:c.email},n.next=9,(0,o.cv)(c);case 9:return n.next=11,(0,o.JN)(c.uid,l);case 11:return localStorage.setItem("user",JSON.stringify(l)),n.abrupt("return",l);case 15:throw n.prev=15,n.t0=n.catch(0),console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0432\u0445\u043e\u0434\u0443:",n.t0.message),new Error(n.t0.message);case 19:case"end":return n.stop()}}),n,null,[[0,15]])})));return function(e){return n.apply(this,arguments)}}(),l=function(){var n=(0,a.Z)((0,t.Z)().mark((function n(){var e,r,a,s;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e=new u.hJ,n.next=4,(0,u.rh)(i,e);case 4:return r=n.sent,a=r.user,s={uid:a.uid,name:a.displayName,email:a.email,photoURL:a.photoURL},n.next=9,(0,o.cv)(a);case 9:return n.next=11,(0,o.JN)(a.uid,s);case 11:return localStorage.setItem("user",JSON.stringify(s)),n.abrupt("return",s);case 15:throw n.prev=15,n.t0=n.catch(0),console.log(n.t0),new Error(n.t0.message);case 19:case"end":return n.stop()}}),n,null,[[0,15]])})));return function(){return n.apply(this,arguments)}}(),p=function(){var n=(0,a.Z)((0,t.Z)().mark((function n(){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,u.w7)(i);case 3:return localStorage.removeItem("user"),n.abrupt("return",!0);case 7:throw n.prev=7,n.t0=n.catch(0),console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0432\u0438\u0445\u043e\u0434\u0443:",n.t0.message),new Error(n.t0.message);case 11:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}()}}]);
//# sourceMappingURL=821.e5961318.chunk.js.map