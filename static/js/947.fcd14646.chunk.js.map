{"version":3,"file":"static/js/947.fcd14646.chunk.js","mappings":"sMAEaA,EAAe,WAC1B,IAAMC,GAAWC,EAAAA,EAAAA,QAAO,MAqCxB,OAnCAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAiB,IAAIC,kBAAkB,CAC3CC,WAAY,CAAC,CAAEC,KAAM,mCAEjBC,EAAwC,WAA7BC,OAAOC,SAASF,SAAwB,MAAQ,KAC3DG,EAAS,IAAIC,UAAU,GAADC,OAAIL,EAAQ,sBAyBxC,OAvBAG,EAAOG,UAAS,eAAAC,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,EAAOC,GAAK,IAAAC,EAAAC,EAAA,OAAAL,EAAAA,EAAAA,KAAAM,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACU,KAAjCL,EAAUM,KAAKC,MAAMR,EAAMS,OAErBC,MAAM,CAADN,EAAAE,KAAA,gBAAAF,EAAAE,KAAA,EACTtB,EAAe2B,qBACnB,IAAIC,sBAAsBX,EAAQS,QAClC,KAAD,SAAAN,EAAAE,KAAA,EACoBtB,EAAe6B,eAAe,KAAD,EAAtC,OAANX,EAAME,EAAAU,KAAAV,EAAAE,KAAA,EACNtB,EAAe+B,oBAAoBb,GAAQ,KAAD,EAChDX,EAAOyB,KAAKT,KAAKU,UAAU,CAAEf,OAAAA,KAAWE,EAAAE,KAAA,qBAC/BL,EAAQiB,aAAa,CAADd,EAAAE,KAAA,gBAAAF,EAAAE,KAAA,GACvBtB,EAAemC,gBACnB,IAAIC,gBAAgBnB,EAAQiB,eAC5B,KAAD,oBAAAd,EAAAiB,OAAA,GAAAtB,EAAA,KAEJ,gBAAAuB,GAAA,OAAA3B,EAAA4B,MAAA,KAAAC,UAAA,EAfe,GAiBhBxC,EAAeyC,QAAU,SAACzB,GACpBnB,EAAS6C,UACX7C,EAAS6C,QAAQC,UAAY3B,EAAM4B,QAAQ,GAE/C,EAEO,WACLrC,EAAOsC,OACT,CACF,GAAG,KAEIC,EAAAA,EAAAA,KAAA,SAAOC,IAAKlD,EAAUmD,UAAQ,EAACC,aAAW,GACnD,ECrBA,EAlBa,WACX,OACEC,EAAAA,EAAAA,MAAA,OAAAC,SAAA,EACEL,EAAAA,EAAAA,KAAA,MAAAK,SAAI,gKACJL,EAAAA,EAAAA,KAAA,KAAAK,SAAG,2dAKHL,EAAAA,EAAAA,KAAA,MAAAK,SAAI,4HACJL,EAAAA,EAAAA,KAAClD,EAAY,KAEbkD,EAAAA,EAAAA,KAAA,MAAAK,SAAI,0GACJL,EAAAA,EAAAA,KAAA,KAAAK,SAAG,kUAGT,C","sources":["components/streamViewer/StreamViewer.js","pages/Home.jsx"],"sourcesContent":["import { useEffect, useRef } from \"react\";\r\n\r\nexport const StreamViewer = () => {\r\n  const videoRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const peerConnection = new RTCPeerConnection({\r\n      iceServers: [{ urls: \"stun:stun.l.google.com:19302\" }],\r\n    });\r\n    const protocol = window.location.protocol === \"https:\" ? \"wss\" : \"ws\";\r\n    const socket = new WebSocket(`${protocol}://localhost:8080`);\r\n\r\n    socket.onmessage = async (event) => {\r\n      const message = JSON.parse(event.data);\r\n\r\n      if (message.offer) {\r\n        await peerConnection.setRemoteDescription(\r\n          new RTCSessionDescription(message.offer)\r\n        );\r\n        const answer = await peerConnection.createAnswer();\r\n        await peerConnection.setLocalDescription(answer);\r\n        socket.send(JSON.stringify({ answer }));\r\n      } else if (message.iceCandidate) {\r\n        await peerConnection.addIceCandidate(\r\n          new RTCIceCandidate(message.iceCandidate)\r\n        );\r\n      }\r\n    };\r\n\r\n    peerConnection.ontrack = (event) => {\r\n      if (videoRef.current) {\r\n        videoRef.current.srcObject = event.streams[0];\r\n      }\r\n    };\r\n\r\n    return () => {\r\n      socket.close();\r\n    };\r\n  }, []);\r\n\r\n  return <video ref={videoRef} autoPlay playsInline />;\r\n};\r\n","import { StreamViewer } from \"../components/streamViewer/StreamViewer\";\r\n\r\nconst Home = () => {\r\n  return (\r\n    <div>\r\n      <h1>–õ–∞—Å–∫–∞–≤–æ –ø—Ä–æ—Å–∏–º–æ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É!</h1>\r\n      <p>\r\n        –¢—É—Ç –≤–∏ –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–≥–ª—è–¥–∞—Ç–∏ –≤—ñ–¥–µ–æ –∑ –≤—É–ª–∏–∫–∞ —Ç–∞ –æ—Ç—Ä–∏–º–∞—Ç–∏ –∫–æ—Ä–∏—Å–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é\r\n        –ø—Ä–æ –±–¥–∂—ñ–ª—å–Ω–∏—Ü—Ç–≤–æ.\r\n      </p>\r\n\r\n      <h2>üìπ –ü—Ä—è–º–∏–π –µ—Ñ—ñ—Ä –∑ –≤—É–ª–∏–∫–∞</h2>\r\n      <StreamViewer />\r\n\r\n      <h2>üêù –©–æ –º–∏ –ø—Ä–æ–ø–æ–Ω—É—î–º–æ?</h2>\r\n      <p>–û—Ä–µ–Ω–¥–∞ –≤—É–ª–∏–∫—ñ–≤, –ø—Ä–æ–¥–∞–∂ –ø—Ä–æ–¥—É–∫—Ü—ñ—ó —Ç–∞ –Ω–∞–≤—á–∞–Ω–Ω—è –¥–ª—è –ø–∞—Å—ñ—á–Ω–∏–∫—ñ–≤.</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"],"names":["StreamViewer","videoRef","useRef","useEffect","peerConnection","RTCPeerConnection","iceServers","urls","protocol","window","location","socket","WebSocket","concat","onmessage","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","event","message","answer","wrap","_context","prev","next","JSON","parse","data","offer","setRemoteDescription","RTCSessionDescription","createAnswer","sent","setLocalDescription","send","stringify","iceCandidate","addIceCandidate","RTCIceCandidate","stop","_x","apply","arguments","ontrack","current","srcObject","streams","close","_jsx","ref","autoPlay","playsInline","_jsxs","children"],"sourceRoot":""}