{"version":3,"file":"static/js/821.e5961318.chunk.js","mappings":"+QAEaA,EAAaC,EAAAA,GAAAA,KAAWC,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,uKAWxBC,EAAcH,EAAAA,GAAAA,MAAYI,IAAAA,GAAAF,EAAAA,EAAAA,GAAA,iCAI1BG,EAAeL,EAAAA,GAAAA,OAAaM,IAAAA,GAAAJ,EAAAA,EAAAA,GAAA,2QAe5BK,EAAUP,EAAAA,GAAAA,IAAUQ,IAAAA,GAAAN,EAAAA,EAAAA,GAAA,kSAsBpBO,EAAeT,EAAAA,GAAAA,OAAaU,IAAAA,GAAAR,EAAAA,EAAAA,GAAA,kW,8IC1C5BS,EAAe,WAC1B,IAAAC,GAA0BC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA/BI,EAAKF,EAAA,GAAEG,EAAQH,EAAA,GACtBI,GAAgCL,EAAAA,EAAAA,UAAS,IAAGM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAArCE,EAAQD,EAAA,GAAEE,EAAWF,EAAA,GAC5BG,GAAwBT,EAAAA,EAAAA,UAAS,IAAGU,GAAAR,EAAAA,EAAAA,GAAAO,EAAA,GAA7BE,EAAID,EAAA,GAAEE,EAAOF,EAAA,GACdG,GAAWC,EAAAA,EAAAA,MAEDC,GAAqBC,EAAAA,EAAAA,GAAYC,EAAAA,GAAU,CACzDC,UAAW,WACTL,EAAS,QACX,EACAM,QAAS,SAACC,GACRC,MAAMD,EAAME,QACd,IANMC,OAqBR,OACEC,EAAAA,EAAAA,MAACtC,EAAAA,GAAU,CAACuC,SAbO,SAACC,GACpBA,EAAEC,iBACF,IACEZ,EAAiB,CAAEZ,MAAAA,EAAOI,SAAAA,EAAUI,KAAAA,IACpCE,EAAS,aACTT,EAAS,IACTI,EAAY,GACd,CAAE,MAAOY,GACPC,MAAM,gBACR,CACF,EAGqCO,SAAA,EACjCC,EAAAA,EAAAA,KAACvC,EAAAA,GAAW,CACVwC,YAAY,OACZnB,KAAK,OACLoB,MAAOpB,EACPqB,KAAK,OACLC,SAAU,SAACP,GAAC,OAAKd,EAAQc,EAAEQ,OAAOH,MAAM,KAE1CF,EAAAA,EAAAA,KAACvC,EAAAA,GAAW,CACVwC,YAAY,SACZnB,KAAK,QACLoB,MAAO5B,EACP6B,KAAK,QACLC,SAAU,SAACP,GAAC,OAAKtB,EAASsB,EAAEQ,OAAOH,MAAM,EACzCI,UAAQ,KAEVN,EAAAA,EAAAA,KAACvC,EAAAA,GAAW,CACVwC,YAAY,WACZnB,KAAK,WACLoB,MAAOxB,EACPyB,KAAK,WACLC,SAAU,SAACP,GAAC,OAAKlB,EAAYkB,EAAEQ,OAAOH,MAAM,EAC5CI,UAAQ,KAEVN,EAAAA,EAAAA,KAACrC,EAAAA,GAAY,CAACwC,KAAK,SAAQJ,SAAC,eAGlC,ECxDA,EATiB,WACf,OACEJ,EAAAA,EAAAA,MAAA,OAAAI,SAAA,EACEC,EAAAA,EAAAA,KAAA,SAAAD,SAAO,kBACPC,EAAAA,EAAAA,KAAC/B,EAAY,MAGnB,C,2KCIMsC,GAAOC,EAAAA,EAAAA,MAKApB,EAAQ,eAAAqB,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,EAAOC,GAAQ,IAAAxC,EAAAI,EAAAI,EAAAiC,EAAAC,EAAA,OAAAL,EAAAA,EAAAA,KAAAM,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAEN,OAFMF,EAAAC,KAAA,EAE3B7C,EAA0BwC,EAA1BxC,MAAOI,EAAmBoC,EAAnBpC,SAAUI,EAASgC,EAAThC,KAAIoC,EAAAE,KAAA,GACNC,EAAAA,EAAAA,IACrBd,EACAjC,EACAI,GACA,KAAD,EAJW,OAIXqC,EAAAG,EAAAI,KAJON,EAAID,EAAJC,KAAIE,EAAAE,KAAA,GAONG,EAAAA,EAAAA,IAAgBP,EAAKQ,IAAK,CAC9B1C,KAAMA,GAAQ,yFACdR,MAAO0C,EAAK1C,MACZmD,MAAO,KACN,KAAD,EAKA,OAHFC,aAAaC,QACX,OACAC,KAAKC,UAAU,CAAEL,IAAKR,EAAKQ,IAAKlD,MAAO0C,EAAK1C,SAC5C4C,EAAAY,OAAA,UACK,GAAI,QAEyC,MAFzCZ,EAAAC,KAAA,GAAAD,EAAAa,GAAAb,EAAA,SAEXc,QAAQzC,MAAM,2GAAuB2B,EAAAa,GAAMtC,SACrC,IAAIwC,MAAMf,EAAAa,GAAMtC,SAAS,KAAD,oBAAAyB,EAAAgB,OAAA,GAAArB,EAAA,mBAEjC,gBAzBoBsB,GAAA,OAAA1B,EAAA2B,MAAA,KAAAC,UAAA,KA8BRC,EAAc,eAAAC,GAAA7B,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAA4B,EAAO1B,GAAQ,IAAAxC,EAAAI,EAAA+D,EAAAzB,EAAA0B,EAAA,OAAA/B,EAAAA,EAAAA,KAAAM,MAAA,SAAA0B,GAAA,cAAAA,EAAAxB,KAAAwB,EAAAvB,MAAA,OAElB,OAFkBuB,EAAAxB,KAAA,EAEjC7C,EAAoBwC,EAApBxC,MAAOI,EAAaoC,EAAbpC,SAAQiE,EAAAvB,KAAA,GACAwB,EAAAA,EAAAA,IAA2BrC,EAAMjC,EAAOI,GAAU,KAAD,EAKvE,OALuE+D,EAAAE,EAAArB,KAAhEN,EAAIyB,EAAJzB,KAEF0B,EAAc,CAClBlB,IAAKR,EAAKQ,IACVlD,MAAO0C,EAAK1C,OACbqE,EAAAvB,KAAA,GAEKyB,EAAAA,EAAAA,IAAgB7B,GAAM,KAAD,SAAA2B,EAAAvB,KAAA,IACrBG,EAAAA,EAAAA,IAAgBP,EAAKQ,IAAKkB,GAAa,KAAD,GAGc,OAA1DhB,aAAaC,QAAQ,OAAQC,KAAKC,UAAUa,IAAcC,EAAAb,OAAA,SAEnDY,GAAW,QAE6B,MAF7BC,EAAAxB,KAAA,GAAAwB,EAAAZ,GAAAY,EAAA,SAElBX,QAAQzC,MAAM,6EAAkBoD,EAAAZ,GAAMtC,SAChC,IAAIwC,MAAMU,EAAAZ,GAAMtC,SAAS,KAAD,oBAAAkD,EAAAT,OAAA,GAAAM,EAAA,mBAEjC,gBArB0BM,GAAA,OAAAP,EAAAH,MAAA,KAAAC,UAAA,KA0BdU,EAAe,eAAAC,GAAAtC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAqC,IAAA,IAAAC,EAAAC,EAAAnC,EAAA0B,EAAA,OAAA/B,EAAAA,EAAAA,KAAAM,MAAA,SAAAmC,GAAA,cAAAA,EAAAjC,KAAAiC,EAAAhC,MAAA,OAEc,OAFdgC,EAAAjC,KAAA,EAErB+B,EAAW,IAAIG,EAAAA,GAAoBD,EAAAhC,KAAA,GAClBkC,EAAAA,EAAAA,IAAgB/C,EAAM2C,GAAU,KAAD,EAOrD,OAPqDC,EAAAC,EAAA9B,KAA9CN,EAAImC,EAAJnC,KAEF0B,EAAc,CAClBlB,IAAKR,EAAKQ,IACV1C,KAAMkC,EAAKuC,YACXjF,MAAO0C,EAAK1C,MACZkF,SAAUxC,EAAKwC,UAChBJ,EAAAhC,KAAA,GAEKyB,EAAAA,EAAAA,IAAgB7B,GAAM,KAAD,SAAAoC,EAAAhC,KAAA,IACrBG,EAAAA,EAAAA,IAAgBP,EAAKQ,IAAKkB,GAAa,KAAD,GAGc,OAA1DhB,aAAaC,QAAQ,OAAQC,KAAKC,UAAUa,IAAcU,EAAAtB,OAAA,SAEnDY,GAAW,QAEC,MAFDU,EAAAjC,KAAA,GAAAiC,EAAArB,GAAAqB,EAAA,SAElBpB,QAAQyB,IAAGL,EAAArB,IACL,IAAIE,MAAMmB,EAAArB,GAAMtC,SAAS,KAAD,oBAAA2D,EAAAlB,OAAA,GAAAe,EAAA,mBAEjC,kBAvB2B,OAAAD,EAAAZ,MAAA,KAAAC,UAAA,KA4BfqB,EAAM,eAAAC,GAAAjD,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAgD,IAAA,OAAAjD,EAAAA,EAAAA,KAAAM,MAAA,SAAA4C,GAAA,cAAAA,EAAA1C,KAAA0C,EAAAzC,MAAA,cAAAyC,EAAA1C,KAAA,EAAA0C,EAAAzC,KAAA,GAEZ0C,EAAAA,EAAAA,IAAQvD,GAAM,KAAD,EACa,OAAhCmB,aAAaqC,WAAW,QAAQF,EAAA/B,OAAA,UACzB,GAAI,OAEqC,MAFrC+B,EAAA1C,KAAA,EAAA0C,EAAA9B,GAAA8B,EAAA,SAEX7B,QAAQzC,MAAM,mFAAmBsE,EAAA9B,GAAMtC,SACjC,IAAIwC,MAAM4B,EAAA9B,GAAMtC,SAAS,KAAD,oBAAAoE,EAAA3B,OAAA,GAAA0B,EAAA,kBAEjC,kBATkB,OAAAD,EAAAvB,MAAA,KAAAC,UAAA,I","sources":["components/loginForm/LoginForm.styled.js","components/registerForm/RegisterForm.jsx","pages/Register.jsx","services/auth.js"],"sourcesContent":["import styled from \"styled-components\";\r\n\r\nexport const FormStyled = styled.form`\r\n  display: grid;\r\n  gap: 10px;\r\n  margin-top: 50px;\r\n  @media (min-width: 768px) {\r\n    width: 300px;\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n  }\r\n`;\r\n\r\nexport const InputStyled = styled.input`\r\n  padding-left: 15px;\r\n`;\r\n\r\nexport const ButtonSubmit = styled.button`\r\n  display: flex;\r\n  justify-content: center;\r\n  padding: 10px;\r\n  border: 1px solid gray;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  text-decoration: none;\r\n  color: white;\r\n  background-color: #29d1c3;\r\n  &:hover {\r\n    background-color: #0000ff;\r\n  }\r\n`;\r\n\r\nexport const Divider = styled.div`\r\n  margin: 20px 0;\r\n  text-align: center;\r\n  position: relative;\r\n\r\n  &:before,\r\n  &:after {\r\n    content: \"\";\r\n    width: 45%;\r\n    height: 1px;\r\n    background: #ccc;\r\n    position: absolute;\r\n    top: 50%;\r\n  }\r\n  &:before {\r\n    left: 0;\r\n  }\r\n  &:after {\r\n    right: 0;\r\n  }\r\n`;\r\n\r\nexport const GoogleButton = styled.button`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  gap: 8px;\r\n  padding: 10px;\r\n  border: 1px solid gray;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  text-decoration: none;\r\n  color: white;\r\n  background-color: #29d1c3;\r\n  &:hover {\r\n    background-color: #0000ff;\r\n  }\r\n  img {\r\n    width: 20px;\r\n    height: 20px;\r\n  }\r\n`;\r\n","import { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useMutation } from \"@tanstack/react-query\";\r\n\r\nimport { register } from \"../../services/auth\";\r\n\r\nimport {\r\n  FormStyled,\r\n  InputStyled,\r\n  ButtonSubmit,\r\n} from \"../loginForm/LoginForm.styled\";\r\n\r\nexport const RegisterForm = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [name, setName] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  const { mutate: registerMutation } = useMutation(register, {\r\n    onSuccess: () => {\r\n      navigate(\"/home\");\r\n    },\r\n    onError: (error) => {\r\n      alert(error.message);\r\n    },\r\n  });\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      registerMutation({ email, password, name });\r\n      navigate(\"/register\");\r\n      setEmail(\"\");\r\n      setPassword(\"\");\r\n    } catch (error) {\r\n      alert(\"Invalid user!\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <FormStyled onSubmit={handleSubmit}>\r\n      <InputStyled\r\n        placeholder=\"name\"\r\n        name=\"name\"\r\n        value={name}\r\n        type=\"text\"\r\n        onChange={(e) => setName(e.target.value)}\r\n      />\r\n      <InputStyled\r\n        placeholder=\"e-mail\"\r\n        name=\"email\"\r\n        value={email}\r\n        type=\"email\"\r\n        onChange={(e) => setEmail(e.target.value)}\r\n        required\r\n      />\r\n      <InputStyled\r\n        placeholder=\"password\"\r\n        name=\"password\"\r\n        value={password}\r\n        type=\"password\"\r\n        onChange={(e) => setPassword(e.target.value)}\r\n        required\r\n      />\r\n      <ButtonSubmit type=\"submit\">Register</ButtonSubmit>\r\n    </FormStyled>\r\n  );\r\n};\r\n","import { RegisterForm } from \"../components/registerForm/RegisterForm\";\r\n\r\nconst Register = () => {\r\n  return (\r\n    <div>\r\n      <title>Registration</title>\r\n      <RegisterForm />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import {\r\n  getAuth,\r\n  signInWithPopup,\r\n  GoogleAuthProvider,\r\n  signOut,\r\n  createUserWithEmailAndPassword,\r\n  signInWithEmailAndPassword,\r\n} from \"firebase/auth\";\r\n// import { doc, setDoc, getDoc } from \"firebase/firestore\";\r\n\r\n// import db from \"../firebase\"; // Імпортуйте ваш екземпляр Firestore\r\n\r\nimport { saveUserProfile, syncUserProfile } from \"./user\";\r\nconst auth = getAuth();\r\n\r\n/**\r\n * Реєстрація нового користувача\r\n */\r\nexport const register = async (userData) => {\r\n  try {\r\n    const { email, password, name } = userData;\r\n    const { user } = await createUserWithEmailAndPassword(\r\n      auth,\r\n      email,\r\n      password\r\n    );\r\n\r\n    // Збереження профілю у Firestore\r\n    await saveUserProfile(user.uid, {\r\n      name: name || \"Ім'я Користувача\",\r\n      email: user.email,\r\n      phone: \"\",\r\n    });\r\n\r\n    localStorage.setItem(\r\n      \"user\",\r\n      JSON.stringify({ uid: user.uid, email: user.email })\r\n    );\r\n    return true;\r\n  } catch (error) {\r\n    console.error(\"Помилка реєстрації:\", error.message);\r\n    throw new Error(error.message);\r\n  }\r\n};\r\n\r\n/**\r\n * Вхід через email і пароль\r\n */\r\nexport const logInWithEmail = async (userData) => {\r\n  try {\r\n    const { email, password } = userData;\r\n    const { user } = await signInWithEmailAndPassword(auth, email, password);\r\n\r\n    const userProfile = {\r\n      uid: user.uid,\r\n      email: user.email,\r\n    };\r\n\r\n    await syncUserProfile(user);\r\n    await saveUserProfile(user.uid, userProfile);\r\n\r\n    // Збереження профілю в localStorage\r\n    localStorage.setItem(\"user\", JSON.stringify(userProfile));\r\n\r\n    return userProfile; // Повертаємо профіль користувача\r\n  } catch (error) {\r\n    console.error(\"Помилка входу:\", error.message);\r\n    throw new Error(error.message);\r\n  }\r\n};\r\n\r\n/**\r\n * Вхід через Google\r\n */\r\nexport const logInWithGoogle = async () => {\r\n  try {\r\n    const provider = new GoogleAuthProvider();\r\n    const { user } = await signInWithPopup(auth, provider);\r\n\r\n    const userProfile = {\r\n      uid: user.uid,\r\n      name: user.displayName,\r\n      email: user.email,\r\n      photoURL: user.photoURL, // URL фото профілю з Google\r\n    };\r\n\r\n    await syncUserProfile(user);\r\n    await saveUserProfile(user.uid, userProfile);\r\n\r\n    // Збереження профілю в localStorage\r\n    localStorage.setItem(\"user\", JSON.stringify(userProfile));\r\n\r\n    return userProfile; // Повертаємо профіль користувача\r\n  } catch (error) {\r\n    console.log(error);\r\n    throw new Error(error.message);\r\n  }\r\n};\r\n\r\n/**\r\n * Вихід з системи\r\n */\r\nexport const logOut = async () => {\r\n  try {\r\n    await signOut(auth);\r\n    localStorage.removeItem(\"user\");\r\n    return true;\r\n  } catch (error) {\r\n    console.error(\"Помилка виходу:\", error.message);\r\n    throw new Error(error.message);\r\n  }\r\n};\r\n"],"names":["FormStyled","styled","_templateObject","_taggedTemplateLiteral","InputStyled","_templateObject2","ButtonSubmit","_templateObject3","Divider","_templateObject4","GoogleButton","_templateObject5","RegisterForm","_useState","useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","password","setPassword","_useState5","_useState6","name","setName","navigate","useNavigate","registerMutation","useMutation","register","onSuccess","onError","error","alert","message","mutate","_jsxs","onSubmit","e","preventDefault","children","_jsx","placeholder","value","type","onChange","target","required","auth","getAuth","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","userData","_yield$createUserWith","user","wrap","_context","prev","next","createUserWithEmailAndPassword","sent","saveUserProfile","uid","phone","localStorage","setItem","JSON","stringify","abrupt","t0","console","Error","stop","_x","apply","arguments","logInWithEmail","_ref2","_callee2","_yield$signInWithEmai","userProfile","_context2","signInWithEmailAndPassword","syncUserProfile","_x2","logInWithGoogle","_ref3","_callee3","provider","_yield$signInWithPopu","_context3","GoogleAuthProvider","signInWithPopup","displayName","photoURL","log","logOut","_ref4","_callee4","_context4","signOut","removeItem"],"sourceRoot":""}