"use strict";(self.webpackChunkfarmersure=self.webpackChunkfarmersure||[]).push([[821],{1691:function(t,e,n){n.d(e,{GX:function(){return f},VL:function(){return d},iz:function(){return h},l_:function(){return p},tN:function(){return l}});var r,u,s,i,a,o=n(168),c=n(6444),l=c.ZP.form(r||(r=(0,o.Z)(["\n  display: grid;\n  gap: 10px;\n  margin-top: 50px;\n  @media (min-width: 768px) {\n    width: 300px;\n    margin-left: auto;\n    margin-right: auto;\n  }\n"]))),p=c.ZP.input(u||(u=(0,o.Z)(["\n  padding-left: 15px;\n"]))),f=c.ZP.button(s||(s=(0,o.Z)(["\n  display: flex;\n  justify-content: center;\n  padding: 10px;\n  border: 1px solid gray;\n  border-radius: 5px;\n  cursor: pointer;\n  text-decoration: none;\n  color: white;\n  background-color: #29d1c3;\n  &:hover {\n    background-color: #0000ff;\n  }\n"]))),h=c.ZP.div(i||(i=(0,o.Z)(['\n  margin: 20px 0;\n  text-align: center;\n  position: relative;\n\n  &:before,\n  &:after {\n    content: "";\n    width: 45%;\n    height: 1px;\n    background: #ccc;\n    position: absolute;\n    top: 50%;\n  }\n  &:before {\n    left: 0;\n  }\n  &:after {\n    right: 0;\n  }\n']))),d=c.ZP.button(a||(a=(0,o.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 8px;\n  padding: 10px;\n  border: 1px solid gray;\n  border-radius: 5px;\n  cursor: pointer;\n  text-decoration: none;\n  color: white;\n  background-color: #29d1c3;\n  &:hover {\n    background-color: #0000ff;\n  }\n  img {\n    width: 20px;\n    height: 20px;\n  }\n"])))},2821:function(t,e,n){n.r(e),n.d(e,{default:function(){return p}});var r=n(9439),u=n(2791),s=n(7689),i=n(3418),a=n(7554),o=n(1691),c=n(3329),l=function(){var t=(0,u.useState)(""),e=(0,r.Z)(t,2),n=e[0],l=e[1],p=(0,u.useState)(""),f=(0,r.Z)(p,2),h=f[0],d=f[1],v=(0,u.useState)(""),m=(0,r.Z)(v,2),g=m[0],x=m[1],b=(0,s.s0)(),y=(0,i.D)(a.z2,{onSuccess:function(){b("/home")},onError:function(t){alert(t.message)}}).mutate;return(0,c.jsxs)(o.tN,{onSubmit:function(t){t.preventDefault();try{y({email:n,password:h,name:g}),b("/register"),l(""),d("")}catch(e){alert("Invalid user!")}},children:[(0,c.jsx)(o.l_,{placeholder:"name",name:"name",value:g,type:"text",onChange:function(t){return x(t.target.value)}}),(0,c.jsx)(o.l_,{placeholder:"e-mail",name:"email",value:n,type:"email",onChange:function(t){return l(t.target.value)},required:!0}),(0,c.jsx)(o.l_,{placeholder:"password",name:"password",value:h,type:"password",onChange:function(t){return d(t.target.value)},required:!0}),(0,c.jsx)(o.GX,{type:"submit",children:"Register"})]})},p=function(){return(0,c.jsxs)("div",{children:[(0,c.jsx)("title",{children:"Registration"}),(0,c.jsx)(l,{})]})}},7554:function(t,e,n){n.d(e,{K4:function(){return c},ni:function(){return p},w:function(){return l},z2:function(){return o}});var r=n(4165),u=n(5861),s=n(7593),i=n(2734),a=(0,s.v0)(),o=function(){var t=(0,u.Z)((0,r.Z)().mark((function t(e){var n,u,o,c,l;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.email,u=e.password,o=e.name,t.next=4,(0,s.Xb)(a,n,u);case 4:return c=t.sent,l=c.user,t.next=8,(0,i.JN)(l.uid,{name:o||"\u0406\u043c'\u044f \u041a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430",email:l.email,phone:""});case 8:return localStorage.setItem("user",JSON.stringify({uid:l.uid,email:l.email})),t.abrupt("return",!0);case 12:throw t.prev=12,t.t0=t.catch(0),console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0440\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u0457:",t.t0.message),new Error(t.t0.message);case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}(),c=function(){var t=(0,u.Z)((0,r.Z)().mark((function t(e){var n,u,o,c,l;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.email,u=e.password,t.next=4,(0,s.e5)(a,n,u);case 4:return o=t.sent,c=o.user,l={uid:c.uid,email:c.email},t.next=9,(0,i.cv)(c);case 9:return t.next=11,(0,i.JN)(c.uid,l);case 11:return localStorage.setItem("user",JSON.stringify(l)),t.abrupt("return",l);case 15:throw t.prev=15,t.t0=t.catch(0),console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0432\u0445\u043e\u0434\u0443:",t.t0.message),new Error(t.t0.message);case 19:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=(0,u.Z)((0,r.Z)().mark((function t(){var e,n,u,o;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=new s.hJ,t.next=4,(0,s.rh)(a,e);case 4:return n=t.sent,u=n.user,o={uid:u.uid,name:u.displayName,email:u.email,photoURL:u.photoURL},t.next=9,(0,i.cv)(u);case 9:return t.next=11,(0,i.JN)(u.uid,o);case 11:return localStorage.setItem("user",JSON.stringify(o)),t.abrupt("return",o);case 15:throw t.prev=15,t.t0=t.catch(0),console.log(t.t0),new Error(t.t0.message);case 19:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(){return t.apply(this,arguments)}}(),p=function(){var t=(0,u.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,s.w7)(a);case 3:return localStorage.removeItem("user"),t.abrupt("return",!0);case 7:throw t.prev=7,t.t0=t.catch(0),console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0432\u0438\u0445\u043e\u0434\u0443:",t.t0.message),new Error(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}()},3418:function(t,e,n){n.d(e,{D:function(){return g}});var r=n(1413),u=n(9439),s=n(2791),i=n(7413),a=n(3734),o=n(5671),c=n(3144),l=n(136),p=n(7277),f=n(9054),h=n(9538),d=function(t){(0,l.Z)(n,t);var e=(0,p.Z)(n);function n(t,r){var u;return(0,o.Z)(this,n),(u=e.call(this)).client=t,u.setOptions(r),u.bindMethods(),u.updateResult(),u}return(0,c.Z)(n,[{key:"bindMethods",value:function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}},{key:"setOptions",value:function(t){var e,n=this.options;this.options=this.client.defaultMutationOptions(t),(0,a.VS)(n,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),null==(e=this.currentMutation)||e.setOptions(this.options)}},{key:"onUnsubscribe",value:function(){var t;this.listeners.length||(null==(t=this.currentMutation)||t.removeObserver(this))}},{key:"onMutationUpdate",value:function(t){this.updateResult();var e={listeners:!0};"success"===t.type?e.onSuccess=!0:"error"===t.type&&(e.onError=!0),this.notify(e)}},{key:"getCurrentResult",value:function(){return this.currentResult}},{key:"reset",value:function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}},{key:"mutate",value:function(t,e){return this.mutateOptions=e,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,(0,r.Z)((0,r.Z)({},this.options),{},{variables:"undefined"!==typeof t?t:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()}},{key:"updateResult",value:function(){var t=this.currentMutation?this.currentMutation.state:(0,f.R)(),e=(0,r.Z)((0,r.Z)({},t),{},{isLoading:"loading"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset});this.currentResult=e}},{key:"notify",value:function(t){var e=this;h.V.batch((function(){var n,r,u,s;if(e.mutateOptions&&e.hasListeners())if(t.onSuccess)null==(n=(r=e.mutateOptions).onSuccess)||n.call(r,e.currentResult.data,e.currentResult.variables,e.currentResult.context),null==(u=(s=e.mutateOptions).onSettled)||u.call(s,e.currentResult.data,null,e.currentResult.variables,e.currentResult.context);else if(t.onError){var i,a,o,c;null==(i=(a=e.mutateOptions).onError)||i.call(a,e.currentResult.error,e.currentResult.variables,e.currentResult.context),null==(o=(c=e.mutateOptions).onSettled)||o.call(c,void 0,e.currentResult.error,e.currentResult.variables,e.currentResult.context)}t.listeners&&e.listeners.forEach((function(t){t(e.currentResult)}))}))}}]),n}(n(5511).l),v=n(6403),m=n(9608);function g(t,e,n){var o=(0,a.lV)(t,e,n),c=(0,v.NL)({context:o.context}),l=s.useState((function(){return new d(c,o)})),p=(0,u.Z)(l,1)[0];s.useEffect((function(){p.setOptions(o)}),[p,o]);var f=(0,i.$)(s.useCallback((function(t){return p.subscribe(h.V.batchCalls(t))}),[p]),(function(){return p.getCurrentResult()}),(function(){return p.getCurrentResult()})),g=s.useCallback((function(t,e){p.mutate(t,e).catch(x)}),[p]);if(f.error&&(0,m.L)(p.options.useErrorBoundary,[f.error]))throw f.error;return(0,r.Z)((0,r.Z)({},f),{},{mutate:g,mutateAsync:f.mutate})}function x(){}},7413:function(t,e,n){n.d(e,{$:function(){return r}});var r=n(7248).useSyncExternalStore},9608:function(t,e,n){n.d(e,{L:function(){return u}});var r=n(3433);function u(t,e){return"function"===typeof t?t.apply(void 0,(0,r.Z)(e)):!!t}}}]);
//# sourceMappingURL=821.fa90bf15.chunk.js.map