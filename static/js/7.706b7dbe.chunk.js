"use strict";(self.webpackChunkfarmersure=self.webpackChunkfarmersure||[]).push([[7],{8001:function(n,e,t){t.d(e,{u:function(){return f}});t(2791);var r,u,i=t(4164),o=t(168),c=t(6444),a=c.ZP.div(r||(r=(0,o.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background: rgba(0, 0, 0, 0.8); /* \u0422\u0435\u043c\u043d\u0438\u0439 \u0444\u043e\u043d */\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000; /* \u0412\u0438\u0441\u043e\u043a\u0438\u0439 \u043f\u0440\u0456\u043e\u0440\u0438\u0442\u0435\u0442 */\n"]))),l=c.ZP.div(u||(u=(0,o.Z)(["\n  position: relative;\n  max-width: 90vw;\n  background-color: white;\n  padding: 20px;\n  border-radius: 10px;\n"]))),s=t(3329),f=function(n){var e=n.isOpen,t=n.onClose,r=n.children;return e?i.createPortal((0,s.jsx)(a,{onClick:t,children:(0,s.jsx)(l,{onClick:function(n){return n.stopPropagation()},children:r})}),document.getElementById("modal-root")):null}},4930:function(n,e,t){t.d(e,{G:function(){return s}});var r=t(4165),u=t(5861),i=t(9439),o=t(2791),c=t(9434),a=(t(7799),t(2734)),l=t(7496),s=(t(673),function(){var n=(0,c.I0)(),e=(0,o.useState)(null),t=(0,i.Z)(e,2),s=t[0],f=t[1],d=(0,o.useState)(!0),p=(0,i.Z)(d,2),h=p[0],v=p[1],x=(0,o.useState)(null),m=(0,i.Z)(x,2),g=m[0],j=m[1],y=JSON.parse(localStorage.getItem("user")),k=null===y||void 0===y?void 0:y.uid;(0,o.useEffect)((function(){k&&(0,a.et)(k).then((function(n){f(n),v(!1)})).catch((function(n){j(n.message),v(!1)}))}),[n,k]);var b=function(){var e=(0,u.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k){e.next=11;break}return e.prev=1,e.next=4,(0,a.Lj)(k,t);case 4:f(t),n((0,l.$l)(t)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),j(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n){return e.apply(this,arguments)}}();return{profile:s,loading:h,error:g,updateProfile:b}})},1007:function(n,e,t){t.r(e),t.d(e,{default:function(){return m}});var r=t(2791),u=t(4165),i=t(1413),o=t(5861),c=t(9439),a=t(9434),l=t(4930),s=t(2734),f=t(6351),d=t(3329),p=function(){var n=(0,a.v9)(f.d),e=(0,a.v9)(f.Dz),t=(0,a.v9)(f.vh),p=(0,l.G)().updateProfile,h=(0,r.useState)(!1),v=(0,c.Z)(h,2),x=v[0],m=v[1],g=(0,r.useState)(null),j=(0,c.Z)(g,2),y=j[0],k=j[1],b=(0,r.useState)(null),Z=(0,c.Z)(b,2),w=Z[0],C=Z[1],P=(0,r.useState)(!1),S=(0,c.Z)(P,2),O=S[0],E=S[1];(0,r.useEffect)((function(){n&&k(n)}),[n]);var R=function(){var e=(0,o.Z)((0,u.Z)().mark((function e(){var t;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w){e.next=2;break}return e.abrupt("return");case 2:return E(!0),e.prev=3,e.next=6,(0,s.ow)(w,n.id);case 6:t=e.sent,k((function(n){return(0,i.Z)((0,i.Z)({},n),{},{customPhotoURL:t})})),C(null),E(!1),p(y),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0444\u043e\u0442\u043e:",e.t0),E(!1);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(){return e.apply(this,arguments)}}();return(0,d.jsx)("div",{children:e?(0,d.jsx)("p",{children:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f..."}):t?(0,d.jsxs)("p",{children:["\u041f\u043e\u043c\u0438\u043b\u043a\u0430: ",t]}):y&&(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{children:"\u041e\u0441\u043e\u0431\u0438\u0441\u0442\u0430 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("img",{src:y.customPhotoURL||y.photoURL||"https://via.placeholder.com/150",alt:"Profile",style:{width:150,height:150,borderRadius:"50%"}}),x&&(0,d.jsxs)("div",{children:[(0,d.jsx)("input",{type:"file",accept:"image/*",onChange:function(n){var e=n.target.files[0];e&&C(e)}}),(0,d.jsx)("button",{onClick:R,disabled:!w||O,children:O?"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f...":"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0444\u043e\u0442\u043e"})]})]}),x?(0,d.jsxs)("div",{children:[(0,d.jsx)("input",{type:"text",name:"name",placeholder:"name",value:y.name,onChange:function(n){return k((function(e){return(0,i.Z)((0,i.Z)({},e),{},{name:n.target.value})}))}}),(0,d.jsx)("input",{type:"email",name:"email",placeholder:"email",value:y.email,onChange:function(n){return k((function(e){return(0,i.Z)((0,i.Z)({},e),{},{email:n.target.value})}))}}),(0,d.jsx)("input",{type:"tel",name:"phone",placeholder:"phone",value:y.phone,onChange:function(n){return k((function(e){return(0,i.Z)((0,i.Z)({},e),{},{phone:n.target.value})}))}}),(0,d.jsx)("button",{onClick:function(){p(y),m(!1)},children:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"})]}):(0,d.jsxs)("div",{children:[(0,d.jsxs)("p",{children:["\u0406\u043c'\u044f: ",y.name]}),(0,d.jsxs)("p",{children:["\u0415\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430 \u043f\u043e\u0448\u0442\u0430: ",y.email]}),(0,d.jsxs)("p",{children:["\u0422\u0435\u043b\u0435\u0444\u043e\u043d: ",y.phone]}),(0,d.jsx)("button",{onClick:function(){return m(!0)},children:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438"})]})]})})},h=t(208),v=t(8001),x=function(){var n=(0,a.I0)(),e=(0,a.v9)(f.d),t=(0,r.useState)(!1),u=(0,c.Z)(t,2),i=u[0],o=u[1],l=(0,r.useState)(""),s=(0,c.Z)(l,2),p=s[0],x=s[1];return(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{children:"\u0411\u0430\u043b\u0430\u043d\u0441"}),(0,d.jsxs)("p",{children:["\u0412\u0430\u0448 \u0431\u0430\u043b\u0430\u043d\u0441: ",(null===e||void 0===e?void 0:e.balance)||0," \u0433\u0440\u043d"]}),(0,d.jsx)("button",{onClick:function(){return o(!0)},children:"\u041f\u043e\u043f\u043e\u0432\u043d\u0438\u0442\u0438 \u0431\u0430\u043b\u0430\u043d\u0441"}),(0,d.jsxs)(v.u,{isOpen:i,onClose:function(){return o(!1)},children:[(0,d.jsx)("h3",{children:"\u041f\u043e\u043f\u043e\u0432\u043d\u0438\u0442\u0438 \u0431\u0430\u043b\u0430\u043d\u0441"}),(0,d.jsx)("input",{type:"number",value:p,onChange:function(n){return x(n.target.value)},placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0441\u0443\u043c\u0443"}),(0,d.jsx)("button",{onClick:function(){var t=e.balance+parseFloat(p);n((0,h.ck)({uid:e.id,data:{balance:t}})),o(!1),x("")},disabled:!p||p<=0,children:"\u041f\u043e\u043f\u043e\u0432\u043d\u0438\u0442\u0438"}),(0,d.jsx)("button",{onClick:function(){return o(!1)},children:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"})]})]})},m=function(){return(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{children:"\u041a\u0430\u0431\u0456\u043d\u0435\u0442 \u043a\u043b\u0456\u0454\u043d\u0442\u0430"}),(0,d.jsx)(p,{}),(0,d.jsx)(x,{})]})}},6351:function(n,e,t){t.d(e,{$h:function(){return p},Cp:function(){return f},Dz:function(){return a},OV:function(){return u},d:function(){return c},eO:function(){return s},vh:function(){return l},wI:function(){return d},xU:function(){return i},zh:function(){return o}});var r=t(6916),u=function(n){return n.hives.hives},i=function(n){return n.hives.isLoading},o=function(n){return n.hives.error},c=function(n){return n.user.profile},a=function(n){return n.user.isLoading},l=function(n){return n.user.error},s=((0,r.P1)([u],(function(n){return n.flatMap((function(n){return n.tasks}))})),(0,r.P1)([u],(function(n){return n.flatMap((function(n){return n.tasks})).filter((function(n){return"Under Review"===n.status}))}))),f=(0,r.P1)([u,function(n,e,t){return{hiveId:e,status:t}}],(function(n,e){var t=e.hiveId,r=e.status,u=n.find((function(n){return n.id===t}));return u&&u.tasks?u.tasks.filter((function(n){return n.status===r})):[]})),d=(0,r.P1)([u,function(n,e){return e}],(function(n,e){return n.find((function(n){return n.id===e}))||null})),p=(0,r.P1)([u,c],(function(n,e){if(!e)return 0;var t=e.id;return n.filter((function(n){return n.lessee===t})).flatMap((function(n){return n.tasks.filter((function(n){return"Under Review"===n.status||"Approved"===n.status}))})).reduce((function(n,e){return n+e.cost}),0)}))},6916:function(n,e,t){t.d(e,{P1:function(){return c}});var r="NOT_FOUND";var u=function(n,e){return n===e};function i(n,e){var t="object"===typeof e?e:{equalityCheck:e},i=t.equalityCheck,o=void 0===i?u:i,c=t.maxSize,a=void 0===c?1:c,l=t.resultEqualityCheck,s=function(n){return function(e,t){if(null===e||null===t||e.length!==t.length)return!1;for(var r=e.length,u=0;u<r;u++)if(!n(e[u],t[u]))return!1;return!0}}(o),f=1===a?function(n){var e;return{get:function(t){return e&&n(e.key,t)?e.value:r},put:function(n,t){e={key:n,value:t}},getEntries:function(){return e?[e]:[]},clear:function(){e=void 0}}}(s):function(n,e){var t=[];function u(n){var u=t.findIndex((function(t){return e(n,t.key)}));if(u>-1){var i=t[u];return u>0&&(t.splice(u,1),t.unshift(i)),i.value}return r}return{get:u,put:function(e,i){u(e)===r&&(t.unshift({key:e,value:i}),t.length>n&&t.pop())},getEntries:function(){return t},clear:function(){t=[]}}}(a,s);function d(){var e=f.get(arguments);if(e===r){if(e=n.apply(null,arguments),l){var t=f.getEntries().find((function(n){return l(n.value,e)}));t&&(e=t.value)}f.put(arguments,e)}return e}return d.clearCache=function(){return f.clear()},d}function o(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return function(){for(var e=arguments.length,r=new Array(e),u=0;u<e;u++)r[u]=arguments[u];var i,o=0,c={memoizeOptions:void 0},a=r.pop();if("object"===typeof a&&(c=a,a=r.pop()),"function"!==typeof a)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof a+"]");var l=c.memoizeOptions,s=void 0===l?t:l,f=Array.isArray(s)?s:[s],d=function(n){var e=Array.isArray(n[0])?n[0]:n;if(!e.every((function(n){return"function"===typeof n}))){var t=e.map((function(n){return"function"===typeof n?"function "+(n.name||"unnamed")+"()":typeof n})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+t+"]")}return e}(r),p=n.apply(void 0,[function(){return o++,a.apply(null,arguments)}].concat(f)),h=n((function(){for(var n=[],e=d.length,t=0;t<e;t++)n.push(d[t].apply(null,arguments));return i=p.apply(null,n)}));return Object.assign(h,{resultFunc:a,memoizedResultFunc:p,dependencies:d,lastResult:function(){return i},recomputations:function(){return o},resetRecomputations:function(){return o=0}}),h}}var c=o(i)}}]);
//# sourceMappingURL=7.706b7dbe.chunk.js.map